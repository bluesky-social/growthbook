{"version":3,"file":"GrowthBook.js","names":["_domMutator","_interopRequireDefault","require","_util","_featureRepository","_core","e","__esModule","default","isBrowser","window","document","SDK_VERSION","loadSDKVersion","GrowthBook","constructor","options","version","_options","context","_renderer","renderer","_trackedExperiments","Set","_completedChangeIds","_trackedFeatures","debug","_subscriptions","ready","_assigned","Map","_activeAutoExperiments","_triggeredExpKeys","_initialized","_redirectedUrl","_deferredTrackingCalls","_autoExperimentsAllowed","disableExperimentsOnLoad","_destroyCallbacks","logs","log","bind","_saveDeferredTrack","_onExperimentEval","_fireSubscriptions","_recordChangedId","remoteEval","decryptionKey","Error","clientKey","isGbHost","URL","apiHost","hostname","match","cacheKeyAttributes","stickyBucketService","s","_saveStickyBucketAssignmentDoc","doc","saveAssignments","plugins","plugin","features","enableDevMode","_growthbook","dispatchEvent","Event","experiments","_updateAllAutoExperiments","stickyBucketAssignmentDocs","key","catch","refreshStickyBuckets","getPayload","setPayload","payload","_payload","data","decryptPayload","_decryptedPayload","savedGroups","_render","initSync","encryptedExperiments","encryptedFeatures","generateStickyBucketAssignmentDocsSync","startStreaming","init","cacheSettings","configureCache","success","source","res","_refresh","allowStale","loadFeatures","skipCache","timeout","streaming","backgroundSync","autoRefresh","subscribeToChanges","refreshFeatures","getApiInfo","getApiHosts","getClientKey","getFeatures","getExperiments","getDecryptedPayload","isRemoteEval","getCacheKeyAttributes","instance","disableCache","console","error","setFeatures","setEncryptedFeatures","encryptedString","subtle","featuresJSON","decrypt","JSON","parse","setExperiments","setEncryptedExperiments","experimentsJSON","setAttributes","attributes","_refreshForRemoteEval","updateAttributes","setAttributeOverrides","overrides","attributeOverrides","setForcedVariations","vars","forcedVariations","setForcedFeatures","map","forcedFeatureValues","setURL","url","getAttributes","getForcedVariations","getForcedFeatures","getStickyBucketAssignmentDocs","getUrl","getCompletedChangeIds","Array","from","subscribe","cb","add","delete","getAllResults","onDestroy","push","isDestroyed","_destroyed","destroy","forEach","clear","undefined","unsubscribe","destroyAllStreams","clearAutoRefresh","exp","undo","setRenderer","forceVariation","variation","run","experiment","result","runExperiment","_getEvalContext","triggerExperiment","filter","_runAutoExperiment","triggerAutoExperiments","user","_getUserContext","global","_getGlobalContext","stack","evaluatedFeatures","blockedChangeIds","_getContextUrl","saveStickyBucketAssignmentDoc","trackingCallback","onFeatureUsage","devLogs","trackedExperiments","trackedFeatureUsage","enabled","qaMode","groups","onExperimentEval","recordChangeId","saveDeferredTrack","eventLogger","forceRerun","existing","get","manual","has","isBlocked","_isAutoExperimentBlockedByContext","process","env","NODE_ENV","id","trackingCall","getExperimentResult","valueHash","stringify","value","inExperiment","_undoActiveAutoExperiment","changeType","getAutoExperimentChangeType","urlRedirect","urlPatterns","persistQueryString","mergeQueryStrings","isURLTargeted","navigate","delay","_getNavigateFunction","Promise","all","promiseTimeout","maxNavigateDelay","resolve","setTimeout","navigateDelay","then","applyDomChangesCallback","_applyDOMChanges","set","keys","v","k","prev","size","variationId","isOn","evalFeature","on","isOff","off","getFeatureValue","defaultValue","feature","_evalFeature","msg","ctx","getDeferredTrackingCalls","values","setDeferredTrackingCalls","calls","c","getExperimentDedupeKey","fireDeferredTrackingCalls","promises","call","setTrackingCallback","callback","setFeatureUsageCallback","setEventLogger","logger","logEvent","eventName","properties","timestamp","Date","now","toString","logType","location","href","disableVisualExperiments","disableJsInjection","variations","some","js","disableUrlRedirectExperiments","current","disableCrossOriginUrlRedirectExperiments","protocol","host","changeId","includes","getRedirectUrl","replace","changes","css","createElement","innerHTML","head","appendChild","remove","script","jsInjectionNonce","nonce","domMutations","mutation","mutate","declarative","revert","fn","docs","getAllStickyBucketAssignmentDocs","getStickyBucketAttributes","getAllAssignmentsSync","inDevMode","exports","prefetchPayload"],"sources":["../../src/GrowthBook.ts"],"sourcesContent":["import mutate, { DeclarativeMutation } from \"dom-mutator\";\nimport type {\n  ApiHost,\n  Attributes,\n  AutoExperiment,\n  AutoExperimentVariation,\n  ClientKey,\n  Options,\n  Experiment,\n  FeatureApiResponse,\n  FeatureDefinition,\n  FeatureResult,\n  FeatureUsageCallback,\n  LoadFeaturesOptions,\n  RefreshFeaturesOptions,\n  RenderFunction,\n  Result,\n  SubscriptionFunction,\n  TrackingCallback,\n  TrackingData,\n  WidenPrimitives,\n  EvalContext,\n  InitOptions,\n  InitResponse,\n  InitSyncOptions,\n  PrefetchOptions,\n  GlobalContext,\n  UserContext,\n  StickyAssignmentsDocument,\n  EventLogger,\n  LogUnion,\n  DestroyOptions,\n} from \"./types/growthbook\";\nimport {\n  decrypt,\n  getAutoExperimentChangeType,\n  isURLTargeted,\n  loadSDKVersion,\n  mergeQueryStrings,\n  promiseTimeout,\n} from \"./util\";\nimport {\n  clearAutoRefresh,\n  configureCache,\n  refreshFeatures,\n  startStreaming,\n  unsubscribe,\n} from \"./feature-repository\";\nimport {\n  runExperiment,\n  evalFeature as _evalFeature,\n  getExperimentResult,\n  getAllStickyBucketAssignmentDocs,\n  decryptPayload,\n  getApiHosts,\n  getExperimentDedupeKey,\n  getStickyBucketAttributes,\n} from \"./core\";\nimport { StickyBucketServiceSync } from \"./sticky-bucket-service\";\n\nconst isBrowser =\n  typeof window !== \"undefined\" && typeof document !== \"undefined\";\n\nconst SDK_VERSION = loadSDKVersion();\n\nexport class GrowthBook<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  AppFeatures extends Record<string, any> = Record<string, any>,\n> {\n  // context is technically private, but some tools depend on it so we can't mangle the name\n  private context: Options;\n  public debug: boolean;\n  public ready: boolean;\n  public version: string;\n  public logs: Array<LogUnion>;\n\n  // Properties and methods that start with \"_\" are mangled by Terser (saves ~150 bytes)\n  private _options: Options;\n  private _renderer: null | RenderFunction;\n  private _redirectedUrl: string;\n  private _trackedExperiments: Set<string>;\n  private _completedChangeIds: Set<string>;\n  private _trackedFeatures: Record<string, string>;\n  private _subscriptions: Set<SubscriptionFunction>;\n  private _assigned: Map<\n    string,\n    {\n      // eslint-disable-next-line\n      experiment: Experiment<any>;\n      // eslint-disable-next-line\n      result: Result<any>;\n    }\n  >;\n  private _activeAutoExperiments: Map<\n    AutoExperiment,\n    { valueHash: string; undo: () => void }\n  >;\n  private _triggeredExpKeys: Set<string>;\n  private _initialized: boolean;\n  private _deferredTrackingCalls: Map<string, TrackingData>;\n  private _saveStickyBucketAssignmentDoc:\n    | undefined\n    | ((doc: StickyAssignmentsDocument) => Promise<unknown>);\n\n  private _payload: FeatureApiResponse | undefined;\n  private _decryptedPayload: FeatureApiResponse | undefined;\n  private _destroyCallbacks: (() => void)[];\n\n  private _autoExperimentsAllowed: boolean;\n  private _destroyed?: boolean;\n\n  constructor(options?: Options) {\n    options = options || {};\n    // These properties are all initialized in the constructor instead of above\n    // This saves ~80 bytes in the final output\n    this.version = SDK_VERSION;\n    this._options = this.context = options;\n    this._renderer = options.renderer || null;\n    this._trackedExperiments = new Set();\n    this._completedChangeIds = new Set();\n    this._trackedFeatures = {};\n    this.debug = !!options.debug;\n    this._subscriptions = new Set();\n    this.ready = false;\n    this._assigned = new Map();\n    this._activeAutoExperiments = new Map();\n    this._triggeredExpKeys = new Set();\n    this._initialized = false;\n    this._redirectedUrl = \"\";\n    this._deferredTrackingCalls = new Map();\n    this._autoExperimentsAllowed = !options.disableExperimentsOnLoad;\n    this._destroyCallbacks = [];\n    this.logs = [];\n\n    this.log = this.log.bind(this);\n    this._saveDeferredTrack = this._saveDeferredTrack.bind(this);\n    this._onExperimentEval = this._onExperimentEval.bind(this);\n    this._fireSubscriptions = this._fireSubscriptions.bind(this);\n    this._recordChangedId = this._recordChangedId.bind(this);\n\n    if (options.remoteEval) {\n      if (options.decryptionKey) {\n        throw new Error(\"Encryption is not available for remoteEval\");\n      }\n      if (!options.clientKey) {\n        throw new Error(\"Missing clientKey\");\n      }\n      let isGbHost = false;\n      try {\n        isGbHost = !!new URL(options.apiHost || \"\").hostname.match(\n          /growthbook\\.io$/i,\n        );\n      } catch (e) {\n        // ignore invalid URLs\n      }\n      if (isGbHost) {\n        throw new Error(\"Cannot use remoteEval on GrowthBook Cloud\");\n      }\n    } else {\n      if (options.cacheKeyAttributes) {\n        throw new Error(\"cacheKeyAttributes are only used for remoteEval\");\n      }\n    }\n\n    if (options.stickyBucketService) {\n      const s = options.stickyBucketService;\n      this._saveStickyBucketAssignmentDoc = (doc) => {\n        return s.saveAssignments(doc);\n      };\n    }\n\n    if (options.plugins) {\n      for (const plugin of options.plugins) {\n        plugin(this);\n      }\n    }\n\n    if (options.features) {\n      this.ready = true;\n    }\n\n    if (isBrowser && options.enableDevMode) {\n      window._growthbook = this;\n      document.dispatchEvent(new Event(\"gbloaded\"));\n    }\n\n    if (options.experiments) {\n      this.ready = true;\n      this._updateAllAutoExperiments();\n    }\n\n    // Hydrate sticky bucket service\n    if (\n      this._options.stickyBucketService &&\n      this._options.stickyBucketAssignmentDocs\n    ) {\n      for (const key in this._options.stickyBucketAssignmentDocs) {\n        const doc = this._options.stickyBucketAssignmentDocs[key];\n        if (doc) {\n          this._options.stickyBucketService.saveAssignments(doc).catch(() => {\n            // Ignore hydration errors\n          });\n        }\n      }\n    }\n\n    // Legacy - passing in features/experiments into the constructor instead of using init\n    if (this.ready) {\n      this.refreshStickyBuckets(this.getPayload());\n    }\n  }\n\n  public async setPayload(payload: FeatureApiResponse): Promise<void> {\n    this._payload = payload;\n    const data = await decryptPayload(payload, this._options.decryptionKey);\n    this._decryptedPayload = data;\n    await this.refreshStickyBuckets(data);\n    if (data.features) {\n      this._options.features = data.features;\n    }\n    if (data.savedGroups) {\n      this._options.savedGroups = data.savedGroups;\n    }\n    if (data.experiments) {\n      this._options.experiments = data.experiments;\n      this._updateAllAutoExperiments();\n    }\n    this.ready = true;\n    this._render();\n  }\n\n  public initSync(options: InitSyncOptions): GrowthBook {\n    this._initialized = true;\n\n    const payload = options.payload;\n\n    if (payload.encryptedExperiments || payload.encryptedFeatures) {\n      throw new Error(\"initSync does not support encrypted payloads\");\n    }\n\n    if (\n      this._options.stickyBucketService &&\n      !this._options.stickyBucketAssignmentDocs\n    ) {\n      this._options.stickyBucketAssignmentDocs =\n        this.generateStickyBucketAssignmentDocsSync(\n          this._options.stickyBucketService as StickyBucketServiceSync,\n          payload,\n        );\n    }\n\n    this._payload = payload;\n    this._decryptedPayload = payload;\n    if (payload.features) {\n      this._options.features = payload.features;\n    }\n    if (payload.experiments) {\n      this._options.experiments = payload.experiments;\n      this._updateAllAutoExperiments();\n    }\n\n    this.ready = true;\n\n    startStreaming(this, options);\n\n    return this;\n  }\n\n  public async init(options?: InitOptions): Promise<InitResponse> {\n    this._initialized = true;\n    options = options || {};\n\n    if (options.cacheSettings) {\n      configureCache(options.cacheSettings);\n    }\n\n    if (options.payload) {\n      await this.setPayload(options.payload);\n      startStreaming(this, options);\n      return {\n        success: true,\n        source: \"init\",\n      };\n    } else {\n      const { data, ...res } = await this._refresh({\n        ...options,\n        allowStale: true,\n      });\n      startStreaming(this, options);\n      await this.setPayload(data || {});\n      return res;\n    }\n  }\n\n  /** @deprecated Use {@link init} */\n  public async loadFeatures(options?: LoadFeaturesOptions): Promise<void> {\n    options = options || {};\n    await this.init({\n      skipCache: options.skipCache,\n      timeout: options.timeout,\n      streaming:\n        (this._options.backgroundSync ?? true) &&\n        (options.autoRefresh || this._options.subscribeToChanges),\n    });\n  }\n\n  public async refreshFeatures(\n    options?: RefreshFeaturesOptions,\n  ): Promise<void> {\n    const res = await this._refresh({\n      ...(options || {}),\n      allowStale: false,\n    });\n    if (res.data) {\n      await this.setPayload(res.data);\n    }\n  }\n\n  public getApiInfo(): [ApiHost, ClientKey] {\n    return [this.getApiHosts().apiHost, this.getClientKey()];\n  }\n  public getApiHosts() {\n    return getApiHosts(this._options);\n  }\n  public getClientKey(): string {\n    return this._options.clientKey || \"\";\n  }\n  public getPayload(): FeatureApiResponse {\n    return (\n      this._payload || {\n        features: this.getFeatures(),\n        experiments: this.getExperiments(),\n      }\n    );\n  }\n  public getDecryptedPayload(): FeatureApiResponse {\n    return this._decryptedPayload || this.getPayload();\n  }\n\n  public isRemoteEval(): boolean {\n    return this._options.remoteEval || false;\n  }\n\n  public getCacheKeyAttributes(): (keyof Attributes)[] | undefined {\n    return this._options.cacheKeyAttributes;\n  }\n\n  private async _refresh({\n    timeout,\n    skipCache,\n    allowStale,\n    streaming,\n  }: RefreshFeaturesOptions & {\n    allowStale?: boolean;\n    streaming?: boolean;\n  }) {\n    if (!this._options.clientKey) {\n      throw new Error(\"Missing clientKey\");\n    }\n    // Trigger refresh in feature repository\n    return refreshFeatures({\n      instance: this,\n      timeout,\n      skipCache: skipCache || this._options.disableCache,\n      allowStale,\n      backgroundSync: streaming ?? this._options.backgroundSync ?? true,\n    });\n  }\n\n  private _render() {\n    if (this._renderer) {\n      try {\n        this._renderer();\n      } catch (e) {\n        console.error(\"Failed to render\", e);\n      }\n    }\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public setFeatures(features: Record<string, FeatureDefinition>) {\n    this._options.features = features;\n    this.ready = true;\n    this._render();\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public async setEncryptedFeatures(\n    encryptedString: string,\n    decryptionKey?: string,\n    subtle?: SubtleCrypto,\n  ): Promise<void> {\n    const featuresJSON = await decrypt(\n      encryptedString,\n      decryptionKey || this._options.decryptionKey,\n      subtle,\n    );\n    this.setFeatures(\n      JSON.parse(featuresJSON) as Record<string, FeatureDefinition>,\n    );\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public setExperiments(experiments: AutoExperiment[]): void {\n    this._options.experiments = experiments;\n    this.ready = true;\n    this._updateAllAutoExperiments();\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public async setEncryptedExperiments(\n    encryptedString: string,\n    decryptionKey?: string,\n    subtle?: SubtleCrypto,\n  ): Promise<void> {\n    const experimentsJSON = await decrypt(\n      encryptedString,\n      decryptionKey || this._options.decryptionKey,\n      subtle,\n    );\n    this.setExperiments(JSON.parse(experimentsJSON) as AutoExperiment[]);\n  }\n\n  public async setAttributes(attributes: Attributes) {\n    this._options.attributes = attributes;\n    if (this._options.stickyBucketService) {\n      await this.refreshStickyBuckets();\n    }\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      return;\n    }\n    this._render();\n    this._updateAllAutoExperiments();\n  }\n\n  public async updateAttributes(attributes: Attributes) {\n    return this.setAttributes({ ...this._options.attributes, ...attributes });\n  }\n\n  public async setAttributeOverrides(overrides: Attributes) {\n    this._options.attributeOverrides = overrides;\n    if (this._options.stickyBucketService) {\n      await this.refreshStickyBuckets();\n    }\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      return;\n    }\n    this._render();\n    this._updateAllAutoExperiments();\n  }\n\n  public async setForcedVariations(vars: Record<string, number>) {\n    this._options.forcedVariations = vars || {};\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      return;\n    }\n    this._render();\n    this._updateAllAutoExperiments();\n  }\n\n  // eslint-disable-next-line\n  public setForcedFeatures(map: Map<string, any>) {\n    this._options.forcedFeatureValues = map;\n    this._render();\n  }\n\n  public async setURL(url: string) {\n    if (url === this._options.url) return;\n    this._options.url = url;\n    this._redirectedUrl = \"\";\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      this._updateAllAutoExperiments(true);\n      return;\n    }\n    this._updateAllAutoExperiments(true);\n  }\n\n  public getAttributes() {\n    return { ...this._options.attributes, ...this._options.attributeOverrides };\n  }\n\n  public getForcedVariations() {\n    return this._options.forcedVariations || {};\n  }\n\n  public getForcedFeatures() {\n    // eslint-disable-next-line\n    return this._options.forcedFeatureValues || new Map<string, any>();\n  }\n\n  public getStickyBucketAssignmentDocs() {\n    return this._options.stickyBucketAssignmentDocs || {};\n  }\n\n  public getUrl() {\n    return this._options.url || \"\";\n  }\n\n  public getFeatures() {\n    return this._options.features || {};\n  }\n\n  public getExperiments() {\n    return this._options.experiments || [];\n  }\n\n  public getCompletedChangeIds(): string[] {\n    return Array.from(this._completedChangeIds);\n  }\n\n  public subscribe(cb: SubscriptionFunction): () => void {\n    this._subscriptions.add(cb);\n    return () => {\n      this._subscriptions.delete(cb);\n    };\n  }\n\n  private async _refreshForRemoteEval() {\n    if (!this._options.remoteEval) return;\n    if (!this._initialized) return;\n    const res = await this._refresh({\n      allowStale: false,\n    });\n    if (res.data) {\n      await this.setPayload(res.data);\n    }\n  }\n\n  public getAllResults() {\n    return new Map(this._assigned);\n  }\n\n  public onDestroy(cb: () => void) {\n    this._destroyCallbacks.push(cb);\n  }\n\n  public isDestroyed() {\n    return !!this._destroyed;\n  }\n\n  public destroy(options?: DestroyOptions) {\n    options = options || {};\n    this._destroyed = true;\n\n    // Custom callbacks\n    // Do this first in case it needs access to the below data that is cleared\n    this._destroyCallbacks.forEach((cb) => {\n      try {\n        cb();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n\n    // Release references to save memory\n    this._subscriptions.clear();\n    this._assigned.clear();\n    this._trackedExperiments.clear();\n    this._completedChangeIds.clear();\n    this._deferredTrackingCalls.clear();\n    this._trackedFeatures = {};\n    this._destroyCallbacks = [];\n    this._payload = undefined;\n    this._saveStickyBucketAssignmentDoc = undefined;\n    unsubscribe(this);\n    if (options.destroyAllStreams) {\n      clearAutoRefresh();\n    }\n    this.logs = [];\n\n    if (isBrowser && window._growthbook === this) {\n      delete window._growthbook;\n    }\n\n    // Undo any active auto experiments\n    this._activeAutoExperiments.forEach((exp) => {\n      exp.undo();\n    });\n    this._activeAutoExperiments.clear();\n    this._triggeredExpKeys.clear();\n  }\n\n  public setRenderer(renderer: null | RenderFunction) {\n    this._renderer = renderer;\n  }\n\n  public forceVariation(key: string, variation: number) {\n    this._options.forcedVariations = this._options.forcedVariations || {};\n    this._options.forcedVariations[key] = variation;\n    if (this._options.remoteEval) {\n      this._refreshForRemoteEval();\n      return;\n    }\n    this._updateAllAutoExperiments();\n    this._render();\n  }\n\n  public run<T>(experiment: Experiment<T>): Result<T> {\n    const { result } = runExperiment(experiment, null, this._getEvalContext());\n    this._onExperimentEval(experiment, result);\n    return result;\n  }\n\n  public triggerExperiment(key: string) {\n    this._triggeredExpKeys.add(key);\n    if (!this._options.experiments) return null;\n    const experiments = this._options.experiments.filter(\n      (exp) => exp.key === key,\n    );\n    return experiments\n      .map((exp) => {\n        return this._runAutoExperiment(exp);\n      })\n      .filter((res) => res !== null);\n  }\n\n  public triggerAutoExperiments() {\n    this._autoExperimentsAllowed = true;\n    this._updateAllAutoExperiments(true);\n  }\n\n  private _getEvalContext(): EvalContext {\n    return {\n      user: this._getUserContext(),\n      global: this._getGlobalContext(),\n      stack: {\n        evaluatedFeatures: new Set(),\n      },\n    };\n  }\n\n  private _getUserContext(): UserContext {\n    return {\n      attributes: this._options.user\n        ? {\n            ...this._options.user,\n            ...this._options.attributes,\n          }\n        : this._options.attributes,\n      enableDevMode: this._options.enableDevMode,\n      blockedChangeIds: this._options.blockedChangeIds,\n      stickyBucketAssignmentDocs: this._options.stickyBucketAssignmentDocs,\n      url: this._getContextUrl(),\n      forcedVariations: this._options.forcedVariations,\n      forcedFeatureValues: this._options.forcedFeatureValues,\n      attributeOverrides: this._options.attributeOverrides,\n      saveStickyBucketAssignmentDoc: this._saveStickyBucketAssignmentDoc,\n      trackingCallback: this._options.trackingCallback,\n      onFeatureUsage: this._options.onFeatureUsage,\n      devLogs: this.logs,\n      trackedExperiments: this._trackedExperiments,\n      trackedFeatureUsage: this._trackedFeatures,\n    };\n  }\n  private _getGlobalContext(): GlobalContext {\n    return {\n      features: this._options.features,\n      experiments: this._options.experiments,\n      log: this.log,\n      enabled: this._options.enabled,\n      qaMode: this._options.qaMode,\n      savedGroups: this._options.savedGroups,\n      groups: this._options.groups,\n      overrides: this._options.overrides,\n      onExperimentEval: this._onExperimentEval,\n      recordChangeId: this._recordChangedId,\n      saveDeferredTrack: this._saveDeferredTrack,\n      eventLogger: this._options.eventLogger,\n    };\n  }\n\n  private _runAutoExperiment(experiment: AutoExperiment, forceRerun?: boolean) {\n    const existing = this._activeAutoExperiments.get(experiment);\n\n    // If this is a manual experiment and it's not already running, skip\n    if (\n      experiment.manual &&\n      !this._triggeredExpKeys.has(experiment.key) &&\n      !existing\n    )\n      return null;\n\n    // Check if this particular experiment is blocked by options settings\n    // For example, if all visualEditor experiments are disabled\n    const isBlocked = this._isAutoExperimentBlockedByContext(experiment);\n    if (isBlocked) {\n      process.env.NODE_ENV !== \"production\" &&\n        this.log(\"Auto experiment blocked\", { id: experiment.key });\n    }\n\n    let result: Result<AutoExperimentVariation> | undefined;\n    let trackingCall: Promise<void> | undefined;\n    // Run the experiment (if blocked exclude)\n    if (isBlocked) {\n      result = getExperimentResult(\n        this._getEvalContext(),\n        experiment,\n        -1,\n        false,\n        \"\",\n      );\n    } else {\n      ({ result, trackingCall } = runExperiment(\n        experiment,\n        null,\n        this._getEvalContext(),\n      ));\n      this._onExperimentEval(experiment, result);\n    }\n\n    // A hash to quickly tell if the assigned value changed\n    const valueHash = JSON.stringify(result.value);\n\n    // If the changes are already active, no need to re-apply them\n    if (\n      !forceRerun &&\n      result.inExperiment &&\n      existing &&\n      existing.valueHash === valueHash\n    ) {\n      return result;\n    }\n\n    // Undo any existing changes\n    if (existing) this._undoActiveAutoExperiment(experiment);\n\n    // Apply new changes\n    if (result.inExperiment) {\n      const changeType = getAutoExperimentChangeType(experiment);\n\n      if (\n        changeType === \"redirect\" &&\n        result.value.urlRedirect &&\n        experiment.urlPatterns\n      ) {\n        const url = experiment.persistQueryString\n          ? mergeQueryStrings(this._getContextUrl(), result.value.urlRedirect)\n          : result.value.urlRedirect;\n\n        if (isURLTargeted(url, experiment.urlPatterns)) {\n          this.log(\n            \"Skipping redirect because original URL matches redirect URL\",\n            {\n              id: experiment.key,\n            },\n          );\n          return result;\n        }\n        this._redirectedUrl = url;\n        const { navigate, delay } = this._getNavigateFunction();\n        if (navigate) {\n          if (isBrowser) {\n            // Wait for the possibly-async tracking callback, bound by min and max delays\n            Promise.all([\n              ...(trackingCall\n                ? [\n                    promiseTimeout(\n                      trackingCall,\n                      this._options.maxNavigateDelay ?? 1000,\n                    ),\n                  ]\n                : []),\n              new Promise((resolve) =>\n                window.setTimeout(\n                  resolve,\n                  this._options.navigateDelay ?? delay,\n                ),\n              ),\n            ]).then(() => {\n              try {\n                navigate(url);\n              } catch (e) {\n                console.error(e);\n              }\n            });\n          } else {\n            try {\n              navigate(url);\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        }\n      } else if (changeType === \"visual\") {\n        const undo = this._options.applyDomChangesCallback\n          ? this._options.applyDomChangesCallback(result.value)\n          : this._applyDOMChanges(result.value);\n        if (undo) {\n          this._activeAutoExperiments.set(experiment, {\n            undo,\n            valueHash,\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n\n  private _undoActiveAutoExperiment(exp: AutoExperiment) {\n    const data = this._activeAutoExperiments.get(exp);\n    if (data) {\n      data.undo();\n      this._activeAutoExperiments.delete(exp);\n    }\n  }\n\n  private _updateAllAutoExperiments(forceRerun?: boolean) {\n    if (!this._autoExperimentsAllowed) return;\n\n    const experiments = this._options.experiments || [];\n\n    // Stop any experiments that are no longer defined\n    const keys = new Set(experiments);\n    this._activeAutoExperiments.forEach((v, k) => {\n      if (!keys.has(k)) {\n        v.undo();\n        this._activeAutoExperiments.delete(k);\n      }\n    });\n\n    // Re-run all new/updated experiments\n    for (const exp of experiments) {\n      const result = this._runAutoExperiment(exp, forceRerun);\n\n      // Once you're in a redirect experiment, break out of the loop and don't run any further experiments\n      if (\n        result &&\n        result.inExperiment &&\n        getAutoExperimentChangeType(exp) === \"redirect\"\n      ) {\n        break;\n      }\n    }\n  }\n\n  private _onExperimentEval<T>(experiment: Experiment<T>, result: Result<T>) {\n    const prev = this._assigned.get(experiment.key);\n    this._assigned.set(experiment.key, { experiment, result });\n    if (this._subscriptions.size > 0) {\n      this._fireSubscriptions<T>(experiment, result, prev);\n    }\n  }\n\n  private _fireSubscriptions<T>(\n    experiment: Experiment<T>,\n    result: Result<T>,\n    // eslint-disable-next-line\n    prev?: { experiment: Experiment<any>; result: Result<any> },\n  ) {\n    // If assigned variation has changed, fire subscriptions\n    // TODO: what if the experiment definition has changed?\n    if (\n      !prev ||\n      prev.result.inExperiment !== result.inExperiment ||\n      prev.result.variationId !== result.variationId\n    ) {\n      this._subscriptions.forEach((cb) => {\n        try {\n          cb(experiment, result);\n        } catch (e) {\n          console.error(e);\n        }\n      });\n    }\n  }\n\n  private _recordChangedId(id: string) {\n    this._completedChangeIds.add(id);\n  }\n\n  public isOn<K extends string & keyof AppFeatures = string>(key: K): boolean {\n    return this.evalFeature(key).on;\n  }\n\n  public isOff<K extends string & keyof AppFeatures = string>(key: K): boolean {\n    return this.evalFeature(key).off;\n  }\n\n  public getFeatureValue<\n    V extends AppFeatures[K],\n    K extends string & keyof AppFeatures = string,\n  >(key: K, defaultValue: V): WidenPrimitives<V> {\n    const value = this.evalFeature<WidenPrimitives<V>, K>(key).value;\n    return value === null ? (defaultValue as WidenPrimitives<V>) : value;\n  }\n\n  /**\n   * @deprecated Use {@link evalFeature}\n   * @param id\n   */\n\n  public feature<\n    V extends AppFeatures[K],\n    K extends string & keyof AppFeatures = string,\n  >(id: K): FeatureResult<V | null> {\n    return this.evalFeature(id);\n  }\n\n  public evalFeature<\n    V extends AppFeatures[K],\n    K extends string & keyof AppFeatures = string,\n  >(id: K): FeatureResult<V | null> {\n    return _evalFeature(id, this._getEvalContext());\n  }\n\n  log(msg: string, ctx: Record<string, unknown>) {\n    if (!this.debug) return;\n    if (this._options.log) this._options.log(msg, ctx);\n    else console.log(msg, ctx);\n  }\n\n  public getDeferredTrackingCalls(): TrackingData[] {\n    return Array.from(this._deferredTrackingCalls.values());\n  }\n\n  public setDeferredTrackingCalls(calls: TrackingData[]) {\n    this._deferredTrackingCalls = new Map(\n      calls\n        .filter((c) => c && c.experiment && c.result)\n        .map((c) => {\n          return [getExperimentDedupeKey(c.experiment, c.result), c];\n        }),\n    );\n  }\n\n  public async fireDeferredTrackingCalls() {\n    if (!this._options.trackingCallback) return;\n\n    const promises: ReturnType<TrackingCallback>[] = [];\n    this._deferredTrackingCalls.forEach((call: TrackingData) => {\n      if (!call || !call.experiment || !call.result) {\n        console.error(\"Invalid deferred tracking call\", { call: call });\n      } else {\n        promises.push(\n          (this._options.trackingCallback as TrackingCallback)(\n            call.experiment,\n            call.result,\n          ),\n        );\n      }\n    });\n    this._deferredTrackingCalls.clear();\n    await Promise.all(promises);\n  }\n\n  public setTrackingCallback(callback: TrackingCallback) {\n    this._options.trackingCallback = callback;\n    this.fireDeferredTrackingCalls();\n  }\n\n  public setFeatureUsageCallback(callback: FeatureUsageCallback) {\n    this._options.onFeatureUsage = callback;\n  }\n\n  public setEventLogger(logger: EventLogger) {\n    this._options.eventLogger = logger;\n  }\n\n  public async logEvent(\n    eventName: string,\n    properties?: Record<string, unknown>,\n  ) {\n    if (this._destroyed) {\n      console.error(\"Cannot log event to destroyed GrowthBook instance\");\n      return;\n    }\n    if (this._options.enableDevMode) {\n      this.logs.push({\n        eventName,\n        properties,\n        timestamp: Date.now().toString(),\n        logType: \"event\",\n      });\n    }\n    if (this._options.eventLogger) {\n      try {\n        await this._options.eventLogger(\n          eventName,\n          properties || {},\n          this._getUserContext(),\n        );\n      } catch (e) {\n        console.error(e);\n      }\n    } else {\n      console.error(\"No event logger configured\");\n    }\n  }\n\n  private _saveDeferredTrack(data: TrackingData) {\n    this._deferredTrackingCalls.set(\n      getExperimentDedupeKey(data.experiment, data.result),\n      data,\n    );\n  }\n\n  private _getContextUrl() {\n    return this._options.url || (isBrowser ? window.location.href : \"\");\n  }\n\n  private _isAutoExperimentBlockedByContext(\n    experiment: AutoExperiment,\n  ): boolean {\n    const changeType = getAutoExperimentChangeType(experiment);\n    if (changeType === \"visual\") {\n      if (this._options.disableVisualExperiments) return true;\n\n      if (this._options.disableJsInjection) {\n        if (experiment.variations.some((v) => v.js)) {\n          return true;\n        }\n      }\n    } else if (changeType === \"redirect\") {\n      if (this._options.disableUrlRedirectExperiments) return true;\n\n      // Validate URLs\n      try {\n        const current = new URL(this._getContextUrl());\n        for (const v of experiment.variations) {\n          if (!v || !v.urlRedirect) continue;\n          const url = new URL(v.urlRedirect);\n\n          // If we're blocking cross origin redirects, block if the protocol or host is different\n          if (this._options.disableCrossOriginUrlRedirectExperiments) {\n            if (url.protocol !== current.protocol) return true;\n            if (url.host !== current.host) return true;\n          }\n        }\n      } catch (e) {\n        // Problem parsing one of the URLs\n        this.log(\"Error parsing current or redirect URL\", {\n          id: experiment.key,\n          error: e,\n        });\n        return true;\n      }\n    } else {\n      // Block any unknown changeTypes\n      return true;\n    }\n\n    if (\n      experiment.changeId &&\n      (this._options.blockedChangeIds || []).includes(experiment.changeId)\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  public getRedirectUrl(): string {\n    return this._redirectedUrl;\n  }\n\n  private _getNavigateFunction(): {\n    navigate: null | ((url: string) => void | Promise<void>);\n    delay: number;\n  } {\n    if (this._options.navigate) {\n      return {\n        navigate: this._options.navigate,\n        delay: 0,\n      };\n    } else if (isBrowser) {\n      return {\n        navigate: (url: string) => {\n          window.location.replace(url);\n        },\n        delay: 100,\n      };\n    }\n    return {\n      navigate: null,\n      delay: 0,\n    };\n  }\n\n  private _applyDOMChanges(changes: AutoExperimentVariation) {\n    if (!isBrowser) return;\n    const undo: (() => void)[] = [];\n    if (changes.css) {\n      const s = document.createElement(\"style\");\n      s.innerHTML = changes.css;\n      document.head.appendChild(s);\n      undo.push(() => s.remove());\n    }\n    if (changes.js) {\n      const script = document.createElement(\"script\");\n      script.innerHTML = changes.js;\n      if (this._options.jsInjectionNonce) {\n        script.nonce = this._options.jsInjectionNonce;\n      }\n      document.head.appendChild(script);\n      undo.push(() => script.remove());\n    }\n    if (changes.domMutations) {\n      changes.domMutations.forEach((mutation) => {\n        undo.push(mutate.declarative(mutation as DeclarativeMutation).revert);\n      });\n    }\n    return () => {\n      undo.forEach((fn) => fn());\n    };\n  }\n\n  public async refreshStickyBuckets(data?: FeatureApiResponse) {\n    if (this._options.stickyBucketService) {\n      const ctx = this._getEvalContext();\n      const docs = await getAllStickyBucketAssignmentDocs(\n        ctx,\n        this._options.stickyBucketService,\n        data,\n      );\n      this._options.stickyBucketAssignmentDocs = docs;\n    }\n  }\n\n  public generateStickyBucketAssignmentDocsSync(\n    stickyBucketService: StickyBucketServiceSync,\n    payload: FeatureApiResponse,\n  ) {\n    if (!(\"getAllAssignmentsSync\" in stickyBucketService)) {\n      console.error(\n        \"generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync\",\n      );\n      return;\n    }\n    const ctx = this._getEvalContext();\n    const attributes = getStickyBucketAttributes(ctx, payload);\n    return stickyBucketService.getAllAssignmentsSync(attributes);\n  }\n\n  public inDevMode(): boolean {\n    return !!this._options.enableDevMode;\n  }\n}\n\nexport async function prefetchPayload(options: PrefetchOptions) {\n  // Create a temporary instance, just to fetch the payload\n  const instance = new GrowthBook(options);\n\n  await refreshFeatures({\n    instance,\n    skipCache: options.skipCache,\n    allowStale: false,\n    backgroundSync: options.streaming,\n  });\n\n  instance.destroy();\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAiCA,IAAAC,KAAA,GAAAD,OAAA;AAQA,IAAAE,kBAAA,GAAAF,OAAA;AAOA,IAAAG,KAAA,GAAAH,OAAA;AASgB,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGhB,MAAMG,SAAS,GACb,OAAOC,MAAM,KAAK,WAAW,IAAI,OAAOC,QAAQ,KAAK,WAAW;AAElE,MAAMC,WAAW,GAAG,IAAAC,oBAAc,EAAC,CAAC;AAE7B,MAAMC,UAAU,CAGrB;EACA;;EAOA;;EAmCAC,WAAWA,CAACC,OAAiB,EAAE;IAC7BA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB;IACA;IACA,IAAI,CAACC,OAAO,GAAGL,WAAW;IAC1B,IAAI,CAACM,QAAQ,GAAG,IAAI,CAACC,OAAO,GAAGH,OAAO;IACtC,IAAI,CAACI,SAAS,GAAGJ,OAAO,CAACK,QAAQ,IAAI,IAAI;IACzC,IAAI,CAACC,mBAAmB,GAAG,IAAIC,GAAG,CAAC,CAAC;IACpC,IAAI,CAACC,mBAAmB,GAAG,IAAID,GAAG,CAAC,CAAC;IACpC,IAAI,CAACE,gBAAgB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACC,KAAK,GAAG,CAAC,CAACV,OAAO,CAACU,KAAK;IAC5B,IAAI,CAACC,cAAc,GAAG,IAAIJ,GAAG,CAAC,CAAC;IAC/B,IAAI,CAACK,KAAK,GAAG,KAAK;IAClB,IAAI,CAACC,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACC,sBAAsB,GAAG,IAAID,GAAG,CAAC,CAAC;IACvC,IAAI,CAACE,iBAAiB,GAAG,IAAIT,GAAG,CAAC,CAAC;IAClC,IAAI,CAACU,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,sBAAsB,GAAG,IAAIL,GAAG,CAAC,CAAC;IACvC,IAAI,CAACM,uBAAuB,GAAG,CAACpB,OAAO,CAACqB,wBAAwB;IAChE,IAAI,CAACC,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACC,IAAI,GAAG,EAAE;IAEd,IAAI,CAACC,GAAG,GAAG,IAAI,CAACA,GAAG,CAACC,IAAI,CAAC,IAAI,CAAC;IAC9B,IAAI,CAACC,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACD,IAAI,CAAC,IAAI,CAAC;IAC5D,IAAI,CAACE,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACF,IAAI,CAAC,IAAI,CAAC;IAC1D,IAAI,CAACG,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACH,IAAI,CAAC,IAAI,CAAC;IAC5D,IAAI,CAACI,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAACJ,IAAI,CAAC,IAAI,CAAC;IAExD,IAAIzB,OAAO,CAAC8B,UAAU,EAAE;MACtB,IAAI9B,OAAO,CAAC+B,aAAa,EAAE;QACzB,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;MAC/D;MACA,IAAI,CAAChC,OAAO,CAACiC,SAAS,EAAE;QACtB,MAAM,IAAID,KAAK,CAAC,mBAAmB,CAAC;MACtC;MACA,IAAIE,QAAQ,GAAG,KAAK;MACpB,IAAI;QACFA,QAAQ,GAAG,CAAC,CAAC,IAAIC,GAAG,CAACnC,OAAO,CAACoC,OAAO,IAAI,EAAE,CAAC,CAACC,QAAQ,CAACC,KAAK,CACxD,kBACF,CAAC;MACH,CAAC,CAAC,OAAOhD,CAAC,EAAE;QACV;MAAA;MAEF,IAAI4C,QAAQ,EAAE;QACZ,MAAM,IAAIF,KAAK,CAAC,2CAA2C,CAAC;MAC9D;IACF,CAAC,MAAM;MACL,IAAIhC,OAAO,CAACuC,kBAAkB,EAAE;QAC9B,MAAM,IAAIP,KAAK,CAAC,iDAAiD,CAAC;MACpE;IACF;IAEA,IAAIhC,OAAO,CAACwC,mBAAmB,EAAE;MAC/B,MAAMC,CAAC,GAAGzC,OAAO,CAACwC,mBAAmB;MACrC,IAAI,CAACE,8BAA8B,GAAIC,GAAG,IAAK;QAC7C,OAAOF,CAAC,CAACG,eAAe,CAACD,GAAG,CAAC;MAC/B,CAAC;IACH;IAEA,IAAI3C,OAAO,CAAC6C,OAAO,EAAE;MACnB,KAAK,MAAMC,MAAM,IAAI9C,OAAO,CAAC6C,OAAO,EAAE;QACpCC,MAAM,CAAC,IAAI,CAAC;MACd;IACF;IAEA,IAAI9C,OAAO,CAAC+C,QAAQ,EAAE;MACpB,IAAI,CAACnC,KAAK,GAAG,IAAI;IACnB;IAEA,IAAInB,SAAS,IAAIO,OAAO,CAACgD,aAAa,EAAE;MACtCtD,MAAM,CAACuD,WAAW,GAAG,IAAI;MACzBtD,QAAQ,CAACuD,aAAa,CAAC,IAAIC,KAAK,CAAC,UAAU,CAAC,CAAC;IAC/C;IAEA,IAAInD,OAAO,CAACoD,WAAW,EAAE;MACvB,IAAI,CAACxC,KAAK,GAAG,IAAI;MACjB,IAAI,CAACyC,yBAAyB,CAAC,CAAC;IAClC;;IAEA;IACA,IACE,IAAI,CAACnD,QAAQ,CAACsC,mBAAmB,IACjC,IAAI,CAACtC,QAAQ,CAACoD,0BAA0B,EACxC;MACA,KAAK,MAAMC,GAAG,IAAI,IAAI,CAACrD,QAAQ,CAACoD,0BAA0B,EAAE;QAC1D,MAAMX,GAAG,GAAG,IAAI,CAACzC,QAAQ,CAACoD,0BAA0B,CAACC,GAAG,CAAC;QACzD,IAAIZ,GAAG,EAAE;UACP,IAAI,CAACzC,QAAQ,CAACsC,mBAAmB,CAACI,eAAe,CAACD,GAAG,CAAC,CAACa,KAAK,CAAC,MAAM;YACjE;UAAA,CACD,CAAC;QACJ;MACF;IACF;;IAEA;IACA,IAAI,IAAI,CAAC5C,KAAK,EAAE;MACd,IAAI,CAAC6C,oBAAoB,CAAC,IAAI,CAACC,UAAU,CAAC,CAAC,CAAC;IAC9C;EACF;EAEA,MAAaC,UAAUA,CAACC,OAA2B,EAAiB;IAClE,IAAI,CAACC,QAAQ,GAAGD,OAAO;IACvB,MAAME,IAAI,GAAG,MAAM,IAAAC,oBAAc,EAACH,OAAO,EAAE,IAAI,CAAC1D,QAAQ,CAAC6B,aAAa,CAAC;IACvE,IAAI,CAACiC,iBAAiB,GAAGF,IAAI;IAC7B,MAAM,IAAI,CAACL,oBAAoB,CAACK,IAAI,CAAC;IACrC,IAAIA,IAAI,CAACf,QAAQ,EAAE;MACjB,IAAI,CAAC7C,QAAQ,CAAC6C,QAAQ,GAAGe,IAAI,CAACf,QAAQ;IACxC;IACA,IAAIe,IAAI,CAACG,WAAW,EAAE;MACpB,IAAI,CAAC/D,QAAQ,CAAC+D,WAAW,GAAGH,IAAI,CAACG,WAAW;IAC9C;IACA,IAAIH,IAAI,CAACV,WAAW,EAAE;MACpB,IAAI,CAAClD,QAAQ,CAACkD,WAAW,GAAGU,IAAI,CAACV,WAAW;MAC5C,IAAI,CAACC,yBAAyB,CAAC,CAAC;IAClC;IACA,IAAI,CAACzC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACsD,OAAO,CAAC,CAAC;EAChB;EAEOC,QAAQA,CAACnE,OAAwB,EAAc;IACpD,IAAI,CAACiB,YAAY,GAAG,IAAI;IAExB,MAAM2C,OAAO,GAAG5D,OAAO,CAAC4D,OAAO;IAE/B,IAAIA,OAAO,CAACQ,oBAAoB,IAAIR,OAAO,CAACS,iBAAiB,EAAE;MAC7D,MAAM,IAAIrC,KAAK,CAAC,8CAA8C,CAAC;IACjE;IAEA,IACE,IAAI,CAAC9B,QAAQ,CAACsC,mBAAmB,IACjC,CAAC,IAAI,CAACtC,QAAQ,CAACoD,0BAA0B,EACzC;MACA,IAAI,CAACpD,QAAQ,CAACoD,0BAA0B,GACtC,IAAI,CAACgB,sCAAsC,CACzC,IAAI,CAACpE,QAAQ,CAACsC,mBAAmB,EACjCoB,OACF,CAAC;IACL;IAEA,IAAI,CAACC,QAAQ,GAAGD,OAAO;IACvB,IAAI,CAACI,iBAAiB,GAAGJ,OAAO;IAChC,IAAIA,OAAO,CAACb,QAAQ,EAAE;MACpB,IAAI,CAAC7C,QAAQ,CAAC6C,QAAQ,GAAGa,OAAO,CAACb,QAAQ;IAC3C;IACA,IAAIa,OAAO,CAACR,WAAW,EAAE;MACvB,IAAI,CAAClD,QAAQ,CAACkD,WAAW,GAAGQ,OAAO,CAACR,WAAW;MAC/C,IAAI,CAACC,yBAAyB,CAAC,CAAC;IAClC;IAEA,IAAI,CAACzC,KAAK,GAAG,IAAI;IAEjB,IAAA2D,iCAAc,EAAC,IAAI,EAAEvE,OAAO,CAAC;IAE7B,OAAO,IAAI;EACb;EAEA,MAAawE,IAAIA,CAACxE,OAAqB,EAAyB;IAC9D,IAAI,CAACiB,YAAY,GAAG,IAAI;IACxBjB,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IAEvB,IAAIA,OAAO,CAACyE,aAAa,EAAE;MACzB,IAAAC,iCAAc,EAAC1E,OAAO,CAACyE,aAAa,CAAC;IACvC;IAEA,IAAIzE,OAAO,CAAC4D,OAAO,EAAE;MACnB,MAAM,IAAI,CAACD,UAAU,CAAC3D,OAAO,CAAC4D,OAAO,CAAC;MACtC,IAAAW,iCAAc,EAAC,IAAI,EAAEvE,OAAO,CAAC;MAC7B,OAAO;QACL2E,OAAO,EAAE,IAAI;QACbC,MAAM,EAAE;MACV,CAAC;IACH,CAAC,MAAM;MACL,MAAM;QAAEd,IAAI;QAAE,GAAGe;MAAI,CAAC,GAAG,MAAM,IAAI,CAACC,QAAQ,CAAC;QAC3C,GAAG9E,OAAO;QACV+E,UAAU,EAAE;MACd,CAAC,CAAC;MACF,IAAAR,iCAAc,EAAC,IAAI,EAAEvE,OAAO,CAAC;MAC7B,MAAM,IAAI,CAAC2D,UAAU,CAACG,IAAI,IAAI,CAAC,CAAC,CAAC;MACjC,OAAOe,GAAG;IACZ;EACF;;EAEA;EACA,MAAaG,YAAYA,CAAChF,OAA6B,EAAiB;IACtEA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB,MAAM,IAAI,CAACwE,IAAI,CAAC;MACdS,SAAS,EAAEjF,OAAO,CAACiF,SAAS;MAC5BC,OAAO,EAAElF,OAAO,CAACkF,OAAO;MACxBC,SAAS,EACP,CAAC,IAAI,CAACjF,QAAQ,CAACkF,cAAc,IAAI,IAAI,MACpCpF,OAAO,CAACqF,WAAW,IAAI,IAAI,CAACnF,QAAQ,CAACoF,kBAAkB;IAC5D,CAAC,CAAC;EACJ;EAEA,MAAaC,eAAeA,CAC1BvF,OAAgC,EACjB;IACf,MAAM6E,GAAG,GAAG,MAAM,IAAI,CAACC,QAAQ,CAAC;MAC9B,IAAI9E,OAAO,IAAI,CAAC,CAAC,CAAC;MAClB+E,UAAU,EAAE;IACd,CAAC,CAAC;IACF,IAAIF,GAAG,CAACf,IAAI,EAAE;MACZ,MAAM,IAAI,CAACH,UAAU,CAACkB,GAAG,CAACf,IAAI,CAAC;IACjC;EACF;EAEO0B,UAAUA,CAAA,EAAyB;IACxC,OAAO,CAAC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACrD,OAAO,EAAE,IAAI,CAACsD,YAAY,CAAC,CAAC,CAAC;EAC1D;EACOD,WAAWA,CAAA,EAAG;IACnB,OAAO,IAAAA,iBAAW,EAAC,IAAI,CAACvF,QAAQ,CAAC;EACnC;EACOwF,YAAYA,CAAA,EAAW;IAC5B,OAAO,IAAI,CAACxF,QAAQ,CAAC+B,SAAS,IAAI,EAAE;EACtC;EACOyB,UAAUA,CAAA,EAAuB;IACtC,OACE,IAAI,CAACG,QAAQ,IAAI;MACfd,QAAQ,EAAE,IAAI,CAAC4C,WAAW,CAAC,CAAC;MAC5BvC,WAAW,EAAE,IAAI,CAACwC,cAAc,CAAC;IACnC,CAAC;EAEL;EACOC,mBAAmBA,CAAA,EAAuB;IAC/C,OAAO,IAAI,CAAC7B,iBAAiB,IAAI,IAAI,CAACN,UAAU,CAAC,CAAC;EACpD;EAEOoC,YAAYA,CAAA,EAAY;IAC7B,OAAO,IAAI,CAAC5F,QAAQ,CAAC4B,UAAU,IAAI,KAAK;EAC1C;EAEOiE,qBAAqBA,CAAA,EAAqC;IAC/D,OAAO,IAAI,CAAC7F,QAAQ,CAACqC,kBAAkB;EACzC;EAEA,MAAcuC,QAAQA,CAAC;IACrBI,OAAO;IACPD,SAAS;IACTF,UAAU;IACVI;EAIF,CAAC,EAAE;IACD,IAAI,CAAC,IAAI,CAACjF,QAAQ,CAAC+B,SAAS,EAAE;MAC5B,MAAM,IAAID,KAAK,CAAC,mBAAmB,CAAC;IACtC;IACA;IACA,OAAO,IAAAuD,kCAAe,EAAC;MACrBS,QAAQ,EAAE,IAAI;MACdd,OAAO;MACPD,SAAS,EAAEA,SAAS,IAAI,IAAI,CAAC/E,QAAQ,CAAC+F,YAAY;MAClDlB,UAAU;MACVK,cAAc,EAAED,SAAS,IAAI,IAAI,CAACjF,QAAQ,CAACkF,cAAc,IAAI;IAC/D,CAAC,CAAC;EACJ;EAEQlB,OAAOA,CAAA,EAAG;IAChB,IAAI,IAAI,CAAC9D,SAAS,EAAE;MAClB,IAAI;QACF,IAAI,CAACA,SAAS,CAAC,CAAC;MAClB,CAAC,CAAC,OAAOd,CAAC,EAAE;QACV4G,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAE7G,CAAC,CAAC;MACtC;IACF;EACF;;EAEA;EACO8G,WAAWA,CAACrD,QAA2C,EAAE;IAC9D,IAAI,CAAC7C,QAAQ,CAAC6C,QAAQ,GAAGA,QAAQ;IACjC,IAAI,CAACnC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACsD,OAAO,CAAC,CAAC;EAChB;;EAEA;EACA,MAAamC,oBAAoBA,CAC/BC,eAAuB,EACvBvE,aAAsB,EACtBwE,MAAqB,EACN;IACf,MAAMC,YAAY,GAAG,MAAM,IAAAC,aAAO,EAChCH,eAAe,EACfvE,aAAa,IAAI,IAAI,CAAC7B,QAAQ,CAAC6B,aAAa,EAC5CwE,MACF,CAAC;IACD,IAAI,CAACH,WAAW,CACdM,IAAI,CAACC,KAAK,CAACH,YAAY,CACzB,CAAC;EACH;;EAEA;EACOI,cAAcA,CAACxD,WAA6B,EAAQ;IACzD,IAAI,CAAClD,QAAQ,CAACkD,WAAW,GAAGA,WAAW;IACvC,IAAI,CAACxC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACyC,yBAAyB,CAAC,CAAC;EAClC;;EAEA;EACA,MAAawD,uBAAuBA,CAClCP,eAAuB,EACvBvE,aAAsB,EACtBwE,MAAqB,EACN;IACf,MAAMO,eAAe,GAAG,MAAM,IAAAL,aAAO,EACnCH,eAAe,EACfvE,aAAa,IAAI,IAAI,CAAC7B,QAAQ,CAAC6B,aAAa,EAC5CwE,MACF,CAAC;IACD,IAAI,CAACK,cAAc,CAACF,IAAI,CAACC,KAAK,CAACG,eAAe,CAAqB,CAAC;EACtE;EAEA,MAAaC,aAAaA,CAACC,UAAsB,EAAE;IACjD,IAAI,CAAC9G,QAAQ,CAAC8G,UAAU,GAAGA,UAAU;IACrC,IAAI,IAAI,CAAC9G,QAAQ,CAACsC,mBAAmB,EAAE;MACrC,MAAM,IAAI,CAACiB,oBAAoB,CAAC,CAAC;IACnC;IACA,IAAI,IAAI,CAACvD,QAAQ,CAAC4B,UAAU,EAAE;MAC5B,MAAM,IAAI,CAACmF,qBAAqB,CAAC,CAAC;MAClC;IACF;IACA,IAAI,CAAC/C,OAAO,CAAC,CAAC;IACd,IAAI,CAACb,yBAAyB,CAAC,CAAC;EAClC;EAEA,MAAa6D,gBAAgBA,CAACF,UAAsB,EAAE;IACpD,OAAO,IAAI,CAACD,aAAa,CAAC;MAAE,GAAG,IAAI,CAAC7G,QAAQ,CAAC8G,UAAU;MAAE,GAAGA;IAAW,CAAC,CAAC;EAC3E;EAEA,MAAaG,qBAAqBA,CAACC,SAAqB,EAAE;IACxD,IAAI,CAAClH,QAAQ,CAACmH,kBAAkB,GAAGD,SAAS;IAC5C,IAAI,IAAI,CAAClH,QAAQ,CAACsC,mBAAmB,EAAE;MACrC,MAAM,IAAI,CAACiB,oBAAoB,CAAC,CAAC;IACnC;IACA,IAAI,IAAI,CAACvD,QAAQ,CAAC4B,UAAU,EAAE;MAC5B,MAAM,IAAI,CAACmF,qBAAqB,CAAC,CAAC;MAClC;IACF;IACA,IAAI,CAAC/C,OAAO,CAAC,CAAC;IACd,IAAI,CAACb,yBAAyB,CAAC,CAAC;EAClC;EAEA,MAAaiE,mBAAmBA,CAACC,IAA4B,EAAE;IAC7D,IAAI,CAACrH,QAAQ,CAACsH,gBAAgB,GAAGD,IAAI,IAAI,CAAC,CAAC;IAC3C,IAAI,IAAI,CAACrH,QAAQ,CAAC4B,UAAU,EAAE;MAC5B,MAAM,IAAI,CAACmF,qBAAqB,CAAC,CAAC;MAClC;IACF;IACA,IAAI,CAAC/C,OAAO,CAAC,CAAC;IACd,IAAI,CAACb,yBAAyB,CAAC,CAAC;EAClC;;EAEA;EACOoE,iBAAiBA,CAACC,GAAqB,EAAE;IAC9C,IAAI,CAACxH,QAAQ,CAACyH,mBAAmB,GAAGD,GAAG;IACvC,IAAI,CAACxD,OAAO,CAAC,CAAC;EAChB;EAEA,MAAa0D,MAAMA,CAACC,GAAW,EAAE;IAC/B,IAAIA,GAAG,KAAK,IAAI,CAAC3H,QAAQ,CAAC2H,GAAG,EAAE;IAC/B,IAAI,CAAC3H,QAAQ,CAAC2H,GAAG,GAAGA,GAAG;IACvB,IAAI,CAAC3G,cAAc,GAAG,EAAE;IACxB,IAAI,IAAI,CAAChB,QAAQ,CAAC4B,UAAU,EAAE;MAC5B,MAAM,IAAI,CAACmF,qBAAqB,CAAC,CAAC;MAClC,IAAI,CAAC5D,yBAAyB,CAAC,IAAI,CAAC;MACpC;IACF;IACA,IAAI,CAACA,yBAAyB,CAAC,IAAI,CAAC;EACtC;EAEOyE,aAAaA,CAAA,EAAG;IACrB,OAAO;MAAE,GAAG,IAAI,CAAC5H,QAAQ,CAAC8G,UAAU;MAAE,GAAG,IAAI,CAAC9G,QAAQ,CAACmH;IAAmB,CAAC;EAC7E;EAEOU,mBAAmBA,CAAA,EAAG;IAC3B,OAAO,IAAI,CAAC7H,QAAQ,CAACsH,gBAAgB,IAAI,CAAC,CAAC;EAC7C;EAEOQ,iBAAiBA,CAAA,EAAG;IACzB;IACA,OAAO,IAAI,CAAC9H,QAAQ,CAACyH,mBAAmB,IAAI,IAAI7G,GAAG,CAAc,CAAC;EACpE;EAEOmH,6BAA6BA,CAAA,EAAG;IACrC,OAAO,IAAI,CAAC/H,QAAQ,CAACoD,0BAA0B,IAAI,CAAC,CAAC;EACvD;EAEO4E,MAAMA,CAAA,EAAG;IACd,OAAO,IAAI,CAAChI,QAAQ,CAAC2H,GAAG,IAAI,EAAE;EAChC;EAEOlC,WAAWA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACzF,QAAQ,CAAC6C,QAAQ,IAAI,CAAC,CAAC;EACrC;EAEO6C,cAAcA,CAAA,EAAG;IACtB,OAAO,IAAI,CAAC1F,QAAQ,CAACkD,WAAW,IAAI,EAAE;EACxC;EAEO+E,qBAAqBA,CAAA,EAAa;IACvC,OAAOC,KAAK,CAACC,IAAI,CAAC,IAAI,CAAC7H,mBAAmB,CAAC;EAC7C;EAEO8H,SAASA,CAACC,EAAwB,EAAc;IACrD,IAAI,CAAC5H,cAAc,CAAC6H,GAAG,CAACD,EAAE,CAAC;IAC3B,OAAO,MAAM;MACX,IAAI,CAAC5H,cAAc,CAAC8H,MAAM,CAACF,EAAE,CAAC;IAChC,CAAC;EACH;EAEA,MAActB,qBAAqBA,CAAA,EAAG;IACpC,IAAI,CAAC,IAAI,CAAC/G,QAAQ,CAAC4B,UAAU,EAAE;IAC/B,IAAI,CAAC,IAAI,CAACb,YAAY,EAAE;IACxB,MAAM4D,GAAG,GAAG,MAAM,IAAI,CAACC,QAAQ,CAAC;MAC9BC,UAAU,EAAE;IACd,CAAC,CAAC;IACF,IAAIF,GAAG,CAACf,IAAI,EAAE;MACZ,MAAM,IAAI,CAACH,UAAU,CAACkB,GAAG,CAACf,IAAI,CAAC;IACjC;EACF;EAEO4E,aAAaA,CAAA,EAAG;IACrB,OAAO,IAAI5H,GAAG,CAAC,IAAI,CAACD,SAAS,CAAC;EAChC;EAEO8H,SAASA,CAACJ,EAAc,EAAE;IAC/B,IAAI,CAACjH,iBAAiB,CAACsH,IAAI,CAACL,EAAE,CAAC;EACjC;EAEOM,WAAWA,CAAA,EAAG;IACnB,OAAO,CAAC,CAAC,IAAI,CAACC,UAAU;EAC1B;EAEOC,OAAOA,CAAC/I,OAAwB,EAAE;IACvCA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB,IAAI,CAAC8I,UAAU,GAAG,IAAI;;IAEtB;IACA;IACA,IAAI,CAACxH,iBAAiB,CAAC0H,OAAO,CAAET,EAAE,IAAK;MACrC,IAAI;QACFA,EAAE,CAAC,CAAC;MACN,CAAC,CAAC,OAAOjJ,CAAC,EAAE;QACV4G,OAAO,CAACC,KAAK,CAAC7G,CAAC,CAAC;MAClB;IACF,CAAC,CAAC;;IAEF;IACA,IAAI,CAACqB,cAAc,CAACsI,KAAK,CAAC,CAAC;IAC3B,IAAI,CAACpI,SAAS,CAACoI,KAAK,CAAC,CAAC;IACtB,IAAI,CAAC3I,mBAAmB,CAAC2I,KAAK,CAAC,CAAC;IAChC,IAAI,CAACzI,mBAAmB,CAACyI,KAAK,CAAC,CAAC;IAChC,IAAI,CAAC9H,sBAAsB,CAAC8H,KAAK,CAAC,CAAC;IACnC,IAAI,CAACxI,gBAAgB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACa,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACuC,QAAQ,GAAGqF,SAAS;IACzB,IAAI,CAACxG,8BAA8B,GAAGwG,SAAS;IAC/C,IAAAC,8BAAW,EAAC,IAAI,CAAC;IACjB,IAAInJ,OAAO,CAACoJ,iBAAiB,EAAE;MAC7B,IAAAC,mCAAgB,EAAC,CAAC;IACpB;IACA,IAAI,CAAC9H,IAAI,GAAG,EAAE;IAEd,IAAI9B,SAAS,IAAIC,MAAM,CAACuD,WAAW,KAAK,IAAI,EAAE;MAC5C,OAAOvD,MAAM,CAACuD,WAAW;IAC3B;;IAEA;IACA,IAAI,CAAClC,sBAAsB,CAACiI,OAAO,CAAEM,GAAG,IAAK;MAC3CA,GAAG,CAACC,IAAI,CAAC,CAAC;IACZ,CAAC,CAAC;IACF,IAAI,CAACxI,sBAAsB,CAACkI,KAAK,CAAC,CAAC;IACnC,IAAI,CAACjI,iBAAiB,CAACiI,KAAK,CAAC,CAAC;EAChC;EAEOO,WAAWA,CAACnJ,QAA+B,EAAE;IAClD,IAAI,CAACD,SAAS,GAAGC,QAAQ;EAC3B;EAEOoJ,cAAcA,CAAClG,GAAW,EAAEmG,SAAiB,EAAE;IACpD,IAAI,CAACxJ,QAAQ,CAACsH,gBAAgB,GAAG,IAAI,CAACtH,QAAQ,CAACsH,gBAAgB,IAAI,CAAC,CAAC;IACrE,IAAI,CAACtH,QAAQ,CAACsH,gBAAgB,CAACjE,GAAG,CAAC,GAAGmG,SAAS;IAC/C,IAAI,IAAI,CAACxJ,QAAQ,CAAC4B,UAAU,EAAE;MAC5B,IAAI,CAACmF,qBAAqB,CAAC,CAAC;MAC5B;IACF;IACA,IAAI,CAAC5D,yBAAyB,CAAC,CAAC;IAChC,IAAI,CAACa,OAAO,CAAC,CAAC;EAChB;EAEOyF,GAAGA,CAAIC,UAAyB,EAAa;IAClD,MAAM;MAAEC;IAAO,CAAC,GAAG,IAAAC,mBAAa,EAACF,UAAU,EAAE,IAAI,EAAE,IAAI,CAACG,eAAe,CAAC,CAAC,CAAC;IAC1E,IAAI,CAACpI,iBAAiB,CAACiI,UAAU,EAAEC,MAAM,CAAC;IAC1C,OAAOA,MAAM;EACf;EAEOG,iBAAiBA,CAACzG,GAAW,EAAE;IACpC,IAAI,CAACvC,iBAAiB,CAACwH,GAAG,CAACjF,GAAG,CAAC;IAC/B,IAAI,CAAC,IAAI,CAACrD,QAAQ,CAACkD,WAAW,EAAE,OAAO,IAAI;IAC3C,MAAMA,WAAW,GAAG,IAAI,CAAClD,QAAQ,CAACkD,WAAW,CAAC6G,MAAM,CACjDX,GAAG,IAAKA,GAAG,CAAC/F,GAAG,KAAKA,GACvB,CAAC;IACD,OAAOH,WAAW,CACfsE,GAAG,CAAE4B,GAAG,IAAK;MACZ,OAAO,IAAI,CAACY,kBAAkB,CAACZ,GAAG,CAAC;IACrC,CAAC,CAAC,CACDW,MAAM,CAAEpF,GAAG,IAAKA,GAAG,KAAK,IAAI,CAAC;EAClC;EAEOsF,sBAAsBA,CAAA,EAAG;IAC9B,IAAI,CAAC/I,uBAAuB,GAAG,IAAI;IACnC,IAAI,CAACiC,yBAAyB,CAAC,IAAI,CAAC;EACtC;EAEQ0G,eAAeA,CAAA,EAAgB;IACrC,OAAO;MACLK,IAAI,EAAE,IAAI,CAACC,eAAe,CAAC,CAAC;MAC5BC,MAAM,EAAE,IAAI,CAACC,iBAAiB,CAAC,CAAC;MAChCC,KAAK,EAAE;QACLC,iBAAiB,EAAE,IAAIlK,GAAG,CAAC;MAC7B;IACF,CAAC;EACH;EAEQ8J,eAAeA,CAAA,EAAgB;IACrC,OAAO;MACLrD,UAAU,EAAE,IAAI,CAAC9G,QAAQ,CAACkK,IAAI,GAC1B;QACE,GAAG,IAAI,CAAClK,QAAQ,CAACkK,IAAI;QACrB,GAAG,IAAI,CAAClK,QAAQ,CAAC8G;MACnB,CAAC,GACD,IAAI,CAAC9G,QAAQ,CAAC8G,UAAU;MAC5BhE,aAAa,EAAE,IAAI,CAAC9C,QAAQ,CAAC8C,aAAa;MAC1C0H,gBAAgB,EAAE,IAAI,CAACxK,QAAQ,CAACwK,gBAAgB;MAChDpH,0BAA0B,EAAE,IAAI,CAACpD,QAAQ,CAACoD,0BAA0B;MACpEuE,GAAG,EAAE,IAAI,CAAC8C,cAAc,CAAC,CAAC;MAC1BnD,gBAAgB,EAAE,IAAI,CAACtH,QAAQ,CAACsH,gBAAgB;MAChDG,mBAAmB,EAAE,IAAI,CAACzH,QAAQ,CAACyH,mBAAmB;MACtDN,kBAAkB,EAAE,IAAI,CAACnH,QAAQ,CAACmH,kBAAkB;MACpDuD,6BAA6B,EAAE,IAAI,CAAClI,8BAA8B;MAClEmI,gBAAgB,EAAE,IAAI,CAAC3K,QAAQ,CAAC2K,gBAAgB;MAChDC,cAAc,EAAE,IAAI,CAAC5K,QAAQ,CAAC4K,cAAc;MAC5CC,OAAO,EAAE,IAAI,CAACxJ,IAAI;MAClByJ,kBAAkB,EAAE,IAAI,CAAC1K,mBAAmB;MAC5C2K,mBAAmB,EAAE,IAAI,CAACxK;IAC5B,CAAC;EACH;EACQ8J,iBAAiBA,CAAA,EAAkB;IACzC,OAAO;MACLxH,QAAQ,EAAE,IAAI,CAAC7C,QAAQ,CAAC6C,QAAQ;MAChCK,WAAW,EAAE,IAAI,CAAClD,QAAQ,CAACkD,WAAW;MACtC5B,GAAG,EAAE,IAAI,CAACA,GAAG;MACb0J,OAAO,EAAE,IAAI,CAAChL,QAAQ,CAACgL,OAAO;MAC9BC,MAAM,EAAE,IAAI,CAACjL,QAAQ,CAACiL,MAAM;MAC5BlH,WAAW,EAAE,IAAI,CAAC/D,QAAQ,CAAC+D,WAAW;MACtCmH,MAAM,EAAE,IAAI,CAAClL,QAAQ,CAACkL,MAAM;MAC5BhE,SAAS,EAAE,IAAI,CAAClH,QAAQ,CAACkH,SAAS;MAClCiE,gBAAgB,EAAE,IAAI,CAAC1J,iBAAiB;MACxC2J,cAAc,EAAE,IAAI,CAACzJ,gBAAgB;MACrC0J,iBAAiB,EAAE,IAAI,CAAC7J,kBAAkB;MAC1C8J,WAAW,EAAE,IAAI,CAACtL,QAAQ,CAACsL;IAC7B,CAAC;EACH;EAEQtB,kBAAkBA,CAACN,UAA0B,EAAE6B,UAAoB,EAAE;IAC3E,MAAMC,QAAQ,GAAG,IAAI,CAAC3K,sBAAsB,CAAC4K,GAAG,CAAC/B,UAAU,CAAC;;IAE5D;IACA,IACEA,UAAU,CAACgC,MAAM,IACjB,CAAC,IAAI,CAAC5K,iBAAiB,CAAC6K,GAAG,CAACjC,UAAU,CAACrG,GAAG,CAAC,IAC3C,CAACmI,QAAQ,EAET,OAAO,IAAI;;IAEb;IACA;IACA,MAAMI,SAAS,GAAG,IAAI,CAACC,iCAAiC,CAACnC,UAAU,CAAC;IACpE,IAAIkC,SAAS,EAAE;MACbE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,IACnC,IAAI,CAAC1K,GAAG,CAAC,yBAAyB,EAAE;QAAE2K,EAAE,EAAEvC,UAAU,CAACrG;MAAI,CAAC,CAAC;IAC/D;IAEA,IAAIsG,MAAmD;IACvD,IAAIuC,YAAuC;IAC3C;IACA,IAAIN,SAAS,EAAE;MACbjC,MAAM,GAAG,IAAAwC,yBAAmB,EAC1B,IAAI,CAACtC,eAAe,CAAC,CAAC,EACtBH,UAAU,EACV,CAAC,CAAC,EACF,KAAK,EACL,EACF,CAAC;IACH,CAAC,MAAM;MACL,CAAC;QAAEC,MAAM;QAAEuC;MAAa,CAAC,GAAG,IAAAtC,mBAAa,EACvCF,UAAU,EACV,IAAI,EACJ,IAAI,CAACG,eAAe,CAAC,CACvB,CAAC;MACD,IAAI,CAACpI,iBAAiB,CAACiI,UAAU,EAAEC,MAAM,CAAC;IAC5C;;IAEA;IACA,MAAMyC,SAAS,GAAG5F,IAAI,CAAC6F,SAAS,CAAC1C,MAAM,CAAC2C,KAAK,CAAC;;IAE9C;IACA,IACE,CAACf,UAAU,IACX5B,MAAM,CAAC4C,YAAY,IACnBf,QAAQ,IACRA,QAAQ,CAACY,SAAS,KAAKA,SAAS,EAChC;MACA,OAAOzC,MAAM;IACf;;IAEA;IACA,IAAI6B,QAAQ,EAAE,IAAI,CAACgB,yBAAyB,CAAC9C,UAAU,CAAC;;IAExD;IACA,IAAIC,MAAM,CAAC4C,YAAY,EAAE;MACvB,MAAME,UAAU,GAAG,IAAAC,iCAA2B,EAAChD,UAAU,CAAC;MAE1D,IACE+C,UAAU,KAAK,UAAU,IACzB9C,MAAM,CAAC2C,KAAK,CAACK,WAAW,IACxBjD,UAAU,CAACkD,WAAW,EACtB;QACA,MAAMjF,GAAG,GAAG+B,UAAU,CAACmD,kBAAkB,GACrC,IAAAC,uBAAiB,EAAC,IAAI,CAACrC,cAAc,CAAC,CAAC,EAAEd,MAAM,CAAC2C,KAAK,CAACK,WAAW,CAAC,GAClEhD,MAAM,CAAC2C,KAAK,CAACK,WAAW;QAE5B,IAAI,IAAAI,mBAAa,EAACpF,GAAG,EAAE+B,UAAU,CAACkD,WAAW,CAAC,EAAE;UAC9C,IAAI,CAACtL,GAAG,CACN,6DAA6D,EAC7D;YACE2K,EAAE,EAAEvC,UAAU,CAACrG;UACjB,CACF,CAAC;UACD,OAAOsG,MAAM;QACf;QACA,IAAI,CAAC3I,cAAc,GAAG2G,GAAG;QACzB,MAAM;UAAEqF,QAAQ;UAAEC;QAAM,CAAC,GAAG,IAAI,CAACC,oBAAoB,CAAC,CAAC;QACvD,IAAIF,QAAQ,EAAE;UACZ,IAAIzN,SAAS,EAAE;YACb;YACA4N,OAAO,CAACC,GAAG,CAAC,CACV,IAAIlB,YAAY,GACZ,CACE,IAAAmB,oBAAc,EACZnB,YAAY,EACZ,IAAI,CAAClM,QAAQ,CAACsN,gBAAgB,IAAI,IACpC,CAAC,CACF,GACD,EAAE,CAAC,EACP,IAAIH,OAAO,CAAEI,OAAO,IAClB/N,MAAM,CAACgO,UAAU,CACfD,OAAO,EACP,IAAI,CAACvN,QAAQ,CAACyN,aAAa,IAAIR,KACjC,CACF,CAAC,CACF,CAAC,CAACS,IAAI,CAAC,MAAM;cACZ,IAAI;gBACFV,QAAQ,CAACrF,GAAG,CAAC;cACf,CAAC,CAAC,OAAOvI,CAAC,EAAE;gBACV4G,OAAO,CAACC,KAAK,CAAC7G,CAAC,CAAC;cAClB;YACF,CAAC,CAAC;UACJ,CAAC,MAAM;YACL,IAAI;cACF4N,QAAQ,CAACrF,GAAG,CAAC;YACf,CAAC,CAAC,OAAOvI,CAAC,EAAE;cACV4G,OAAO,CAACC,KAAK,CAAC7G,CAAC,CAAC;YAClB;UACF;QACF;MACF,CAAC,MAAM,IAAIqN,UAAU,KAAK,QAAQ,EAAE;QAClC,MAAMpD,IAAI,GAAG,IAAI,CAACrJ,QAAQ,CAAC2N,uBAAuB,GAC9C,IAAI,CAAC3N,QAAQ,CAAC2N,uBAAuB,CAAChE,MAAM,CAAC2C,KAAK,CAAC,GACnD,IAAI,CAACsB,gBAAgB,CAACjE,MAAM,CAAC2C,KAAK,CAAC;QACvC,IAAIjD,IAAI,EAAE;UACR,IAAI,CAACxI,sBAAsB,CAACgN,GAAG,CAACnE,UAAU,EAAE;YAC1CL,IAAI;YACJ+C;UACF,CAAC,CAAC;QACJ;MACF;IACF;IAEA,OAAOzC,MAAM;EACf;EAEQ6C,yBAAyBA,CAACpD,GAAmB,EAAE;IACrD,MAAMxF,IAAI,GAAG,IAAI,CAAC/C,sBAAsB,CAAC4K,GAAG,CAACrC,GAAG,CAAC;IACjD,IAAIxF,IAAI,EAAE;MACRA,IAAI,CAACyF,IAAI,CAAC,CAAC;MACX,IAAI,CAACxI,sBAAsB,CAAC0H,MAAM,CAACa,GAAG,CAAC;IACzC;EACF;EAEQjG,yBAAyBA,CAACoI,UAAoB,EAAE;IACtD,IAAI,CAAC,IAAI,CAACrK,uBAAuB,EAAE;IAEnC,MAAMgC,WAAW,GAAG,IAAI,CAAClD,QAAQ,CAACkD,WAAW,IAAI,EAAE;;IAEnD;IACA,MAAM4K,IAAI,GAAG,IAAIzN,GAAG,CAAC6C,WAAW,CAAC;IACjC,IAAI,CAACrC,sBAAsB,CAACiI,OAAO,CAAC,CAACiF,CAAC,EAAEC,CAAC,KAAK;MAC5C,IAAI,CAACF,IAAI,CAACnC,GAAG,CAACqC,CAAC,CAAC,EAAE;QAChBD,CAAC,CAAC1E,IAAI,CAAC,CAAC;QACR,IAAI,CAACxI,sBAAsB,CAAC0H,MAAM,CAACyF,CAAC,CAAC;MACvC;IACF,CAAC,CAAC;;IAEF;IACA,KAAK,MAAM5E,GAAG,IAAIlG,WAAW,EAAE;MAC7B,MAAMyG,MAAM,GAAG,IAAI,CAACK,kBAAkB,CAACZ,GAAG,EAAEmC,UAAU,CAAC;;MAEvD;MACA,IACE5B,MAAM,IACNA,MAAM,CAAC4C,YAAY,IACnB,IAAAG,iCAA2B,EAACtD,GAAG,CAAC,KAAK,UAAU,EAC/C;QACA;MACF;IACF;EACF;EAEQ3H,iBAAiBA,CAAIiI,UAAyB,EAAEC,MAAiB,EAAE;IACzE,MAAMsE,IAAI,GAAG,IAAI,CAACtN,SAAS,CAAC8K,GAAG,CAAC/B,UAAU,CAACrG,GAAG,CAAC;IAC/C,IAAI,CAAC1C,SAAS,CAACkN,GAAG,CAACnE,UAAU,CAACrG,GAAG,EAAE;MAAEqG,UAAU;MAAEC;IAAO,CAAC,CAAC;IAC1D,IAAI,IAAI,CAAClJ,cAAc,CAACyN,IAAI,GAAG,CAAC,EAAE;MAChC,IAAI,CAACxM,kBAAkB,CAAIgI,UAAU,EAAEC,MAAM,EAAEsE,IAAI,CAAC;IACtD;EACF;EAEQvM,kBAAkBA,CACxBgI,UAAyB,EACzBC,MAAiB;EACjB;EACAsE,IAA2D,EAC3D;IACA;IACA;IACA,IACE,CAACA,IAAI,IACLA,IAAI,CAACtE,MAAM,CAAC4C,YAAY,KAAK5C,MAAM,CAAC4C,YAAY,IAChD0B,IAAI,CAACtE,MAAM,CAACwE,WAAW,KAAKxE,MAAM,CAACwE,WAAW,EAC9C;MACA,IAAI,CAAC1N,cAAc,CAACqI,OAAO,CAAET,EAAE,IAAK;QAClC,IAAI;UACFA,EAAE,CAACqB,UAAU,EAAEC,MAAM,CAAC;QACxB,CAAC,CAAC,OAAOvK,CAAC,EAAE;UACV4G,OAAO,CAACC,KAAK,CAAC7G,CAAC,CAAC;QAClB;MACF,CAAC,CAAC;IACJ;EACF;EAEQuC,gBAAgBA,CAACsK,EAAU,EAAE;IACnC,IAAI,CAAC3L,mBAAmB,CAACgI,GAAG,CAAC2D,EAAE,CAAC;EAClC;EAEOmC,IAAIA,CAAgD/K,GAAM,EAAW;IAC1E,OAAO,IAAI,CAACgL,WAAW,CAAChL,GAAG,CAAC,CAACiL,EAAE;EACjC;EAEOC,KAAKA,CAAgDlL,GAAM,EAAW;IAC3E,OAAO,IAAI,CAACgL,WAAW,CAAChL,GAAG,CAAC,CAACmL,GAAG;EAClC;EAEOC,eAAeA,CAGpBpL,GAAM,EAAEqL,YAAe,EAAsB;IAC7C,MAAMpC,KAAK,GAAG,IAAI,CAAC+B,WAAW,CAAwBhL,GAAG,CAAC,CAACiJ,KAAK;IAChE,OAAOA,KAAK,KAAK,IAAI,GAAIoC,YAAY,GAA0BpC,KAAK;EACtE;;EAEA;AACF;AACA;AACA;;EAESqC,OAAOA,CAGZ1C,EAAK,EAA2B;IAChC,OAAO,IAAI,CAACoC,WAAW,CAACpC,EAAE,CAAC;EAC7B;EAEOoC,WAAWA,CAGhBpC,EAAK,EAA2B;IAChC,OAAO,IAAA2C,iBAAY,EAAC3C,EAAE,EAAE,IAAI,CAACpC,eAAe,CAAC,CAAC,CAAC;EACjD;EAEAvI,GAAGA,CAACuN,GAAW,EAAEC,GAA4B,EAAE;IAC7C,IAAI,CAAC,IAAI,CAACtO,KAAK,EAAE;IACjB,IAAI,IAAI,CAACR,QAAQ,CAACsB,GAAG,EAAE,IAAI,CAACtB,QAAQ,CAACsB,GAAG,CAACuN,GAAG,EAAEC,GAAG,CAAC,CAAC,KAC9C9I,OAAO,CAAC1E,GAAG,CAACuN,GAAG,EAAEC,GAAG,CAAC;EAC5B;EAEOC,wBAAwBA,CAAA,EAAmB;IAChD,OAAO7G,KAAK,CAACC,IAAI,CAAC,IAAI,CAAClH,sBAAsB,CAAC+N,MAAM,CAAC,CAAC,CAAC;EACzD;EAEOC,wBAAwBA,CAACC,KAAqB,EAAE;IACrD,IAAI,CAACjO,sBAAsB,GAAG,IAAIL,GAAG,CACnCsO,KAAK,CACFnF,MAAM,CAAEoF,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAACzF,UAAU,IAAIyF,CAAC,CAACxF,MAAM,CAAC,CAC5CnC,GAAG,CAAE2H,CAAC,IAAK;MACV,OAAO,CAAC,IAAAC,4BAAsB,EAACD,CAAC,CAACzF,UAAU,EAAEyF,CAAC,CAACxF,MAAM,CAAC,EAAEwF,CAAC,CAAC;IAC5D,CAAC,CACL,CAAC;EACH;EAEA,MAAaE,yBAAyBA,CAAA,EAAG;IACvC,IAAI,CAAC,IAAI,CAACrP,QAAQ,CAAC2K,gBAAgB,EAAE;IAErC,MAAM2E,QAAwC,GAAG,EAAE;IACnD,IAAI,CAACrO,sBAAsB,CAAC6H,OAAO,CAAEyG,IAAkB,IAAK;MAC1D,IAAI,CAACA,IAAI,IAAI,CAACA,IAAI,CAAC7F,UAAU,IAAI,CAAC6F,IAAI,CAAC5F,MAAM,EAAE;QAC7C3D,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAE;UAAEsJ,IAAI,EAAEA;QAAK,CAAC,CAAC;MACjE,CAAC,MAAM;QACLD,QAAQ,CAAC5G,IAAI,CACV,IAAI,CAAC1I,QAAQ,CAAC2K,gBAAgB,CAC7B4E,IAAI,CAAC7F,UAAU,EACf6F,IAAI,CAAC5F,MACP,CACF,CAAC;MACH;IACF,CAAC,CAAC;IACF,IAAI,CAAC1I,sBAAsB,CAAC8H,KAAK,CAAC,CAAC;IACnC,MAAMoE,OAAO,CAACC,GAAG,CAACkC,QAAQ,CAAC;EAC7B;EAEOE,mBAAmBA,CAACC,QAA0B,EAAE;IACrD,IAAI,CAACzP,QAAQ,CAAC2K,gBAAgB,GAAG8E,QAAQ;IACzC,IAAI,CAACJ,yBAAyB,CAAC,CAAC;EAClC;EAEOK,uBAAuBA,CAACD,QAA8B,EAAE;IAC7D,IAAI,CAACzP,QAAQ,CAAC4K,cAAc,GAAG6E,QAAQ;EACzC;EAEOE,cAAcA,CAACC,MAAmB,EAAE;IACzC,IAAI,CAAC5P,QAAQ,CAACsL,WAAW,GAAGsE,MAAM;EACpC;EAEA,MAAaC,QAAQA,CACnBC,SAAiB,EACjBC,UAAoC,EACpC;IACA,IAAI,IAAI,CAACnH,UAAU,EAAE;MACnB5C,OAAO,CAACC,KAAK,CAAC,mDAAmD,CAAC;MAClE;IACF;IACA,IAAI,IAAI,CAACjG,QAAQ,CAAC8C,aAAa,EAAE;MAC/B,IAAI,CAACzB,IAAI,CAACqH,IAAI,CAAC;QACboH,SAAS;QACTC,UAAU;QACVC,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;QAChCC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,IAAI,IAAI,CAACpQ,QAAQ,CAACsL,WAAW,EAAE;MAC7B,IAAI;QACF,MAAM,IAAI,CAACtL,QAAQ,CAACsL,WAAW,CAC7BwE,SAAS,EACTC,UAAU,IAAI,CAAC,CAAC,EAChB,IAAI,CAAC5F,eAAe,CAAC,CACvB,CAAC;MACH,CAAC,CAAC,OAAO/K,CAAC,EAAE;QACV4G,OAAO,CAACC,KAAK,CAAC7G,CAAC,CAAC;MAClB;IACF,CAAC,MAAM;MACL4G,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC;IAC7C;EACF;EAEQzE,kBAAkBA,CAACoC,IAAkB,EAAE;IAC7C,IAAI,CAAC3C,sBAAsB,CAAC4M,GAAG,CAC7B,IAAAuB,4BAAsB,EAACxL,IAAI,CAAC8F,UAAU,EAAE9F,IAAI,CAAC+F,MAAM,CAAC,EACpD/F,IACF,CAAC;EACH;EAEQ6G,cAAcA,CAAA,EAAG;IACvB,OAAO,IAAI,CAACzK,QAAQ,CAAC2H,GAAG,KAAKpI,SAAS,GAAGC,MAAM,CAAC6Q,QAAQ,CAACC,IAAI,GAAG,EAAE,CAAC;EACrE;EAEQzE,iCAAiCA,CACvCnC,UAA0B,EACjB;IACT,MAAM+C,UAAU,GAAG,IAAAC,iCAA2B,EAAChD,UAAU,CAAC;IAC1D,IAAI+C,UAAU,KAAK,QAAQ,EAAE;MAC3B,IAAI,IAAI,CAACzM,QAAQ,CAACuQ,wBAAwB,EAAE,OAAO,IAAI;MAEvD,IAAI,IAAI,CAACvQ,QAAQ,CAACwQ,kBAAkB,EAAE;QACpC,IAAI9G,UAAU,CAAC+G,UAAU,CAACC,IAAI,CAAE3C,CAAC,IAAKA,CAAC,CAAC4C,EAAE,CAAC,EAAE;UAC3C,OAAO,IAAI;QACb;MACF;IACF,CAAC,MAAM,IAAIlE,UAAU,KAAK,UAAU,EAAE;MACpC,IAAI,IAAI,CAACzM,QAAQ,CAAC4Q,6BAA6B,EAAE,OAAO,IAAI;;MAE5D;MACA,IAAI;QACF,MAAMC,OAAO,GAAG,IAAI5O,GAAG,CAAC,IAAI,CAACwI,cAAc,CAAC,CAAC,CAAC;QAC9C,KAAK,MAAMsD,CAAC,IAAIrE,UAAU,CAAC+G,UAAU,EAAE;UACrC,IAAI,CAAC1C,CAAC,IAAI,CAACA,CAAC,CAACpB,WAAW,EAAE;UAC1B,MAAMhF,GAAG,GAAG,IAAI1F,GAAG,CAAC8L,CAAC,CAACpB,WAAW,CAAC;;UAElC;UACA,IAAI,IAAI,CAAC3M,QAAQ,CAAC8Q,wCAAwC,EAAE;YAC1D,IAAInJ,GAAG,CAACoJ,QAAQ,KAAKF,OAAO,CAACE,QAAQ,EAAE,OAAO,IAAI;YAClD,IAAIpJ,GAAG,CAACqJ,IAAI,KAAKH,OAAO,CAACG,IAAI,EAAE,OAAO,IAAI;UAC5C;QACF;MACF,CAAC,CAAC,OAAO5R,CAAC,EAAE;QACV;QACA,IAAI,CAACkC,GAAG,CAAC,uCAAuC,EAAE;UAChD2K,EAAE,EAAEvC,UAAU,CAACrG,GAAG;UAClB4C,KAAK,EAAE7G;QACT,CAAC,CAAC;QACF,OAAO,IAAI;MACb;IACF,CAAC,MAAM;MACL;MACA,OAAO,IAAI;IACb;IAEA,IACEsK,UAAU,CAACuH,QAAQ,IACnB,CAAC,IAAI,CAACjR,QAAQ,CAACwK,gBAAgB,IAAI,EAAE,EAAE0G,QAAQ,CAACxH,UAAU,CAACuH,QAAQ,CAAC,EACpE;MACA,OAAO,IAAI;IACb;IAEA,OAAO,KAAK;EACd;EAEOE,cAAcA,CAAA,EAAW;IAC9B,OAAO,IAAI,CAACnQ,cAAc;EAC5B;EAEQkM,oBAAoBA,CAAA,EAG1B;IACA,IAAI,IAAI,CAAClN,QAAQ,CAACgN,QAAQ,EAAE;MAC1B,OAAO;QACLA,QAAQ,EAAE,IAAI,CAAChN,QAAQ,CAACgN,QAAQ;QAChCC,KAAK,EAAE;MACT,CAAC;IACH,CAAC,MAAM,IAAI1N,SAAS,EAAE;MACpB,OAAO;QACLyN,QAAQ,EAAGrF,GAAW,IAAK;UACzBnI,MAAM,CAAC6Q,QAAQ,CAACe,OAAO,CAACzJ,GAAG,CAAC;QAC9B,CAAC;QACDsF,KAAK,EAAE;MACT,CAAC;IACH;IACA,OAAO;MACLD,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE;IACT,CAAC;EACH;EAEQW,gBAAgBA,CAACyD,OAAgC,EAAE;IACzD,IAAI,CAAC9R,SAAS,EAAE;IAChB,MAAM8J,IAAoB,GAAG,EAAE;IAC/B,IAAIgI,OAAO,CAACC,GAAG,EAAE;MACf,MAAM/O,CAAC,GAAG9C,QAAQ,CAAC8R,aAAa,CAAC,OAAO,CAAC;MACzChP,CAAC,CAACiP,SAAS,GAAGH,OAAO,CAACC,GAAG;MACzB7R,QAAQ,CAACgS,IAAI,CAACC,WAAW,CAACnP,CAAC,CAAC;MAC5B8G,IAAI,CAACX,IAAI,CAAC,MAAMnG,CAAC,CAACoP,MAAM,CAAC,CAAC,CAAC;IAC7B;IACA,IAAIN,OAAO,CAACV,EAAE,EAAE;MACd,MAAMiB,MAAM,GAAGnS,QAAQ,CAAC8R,aAAa,CAAC,QAAQ,CAAC;MAC/CK,MAAM,CAACJ,SAAS,GAAGH,OAAO,CAACV,EAAE;MAC7B,IAAI,IAAI,CAAC3Q,QAAQ,CAAC6R,gBAAgB,EAAE;QAClCD,MAAM,CAACE,KAAK,GAAG,IAAI,CAAC9R,QAAQ,CAAC6R,gBAAgB;MAC/C;MACApS,QAAQ,CAACgS,IAAI,CAACC,WAAW,CAACE,MAAM,CAAC;MACjCvI,IAAI,CAACX,IAAI,CAAC,MAAMkJ,MAAM,CAACD,MAAM,CAAC,CAAC,CAAC;IAClC;IACA,IAAIN,OAAO,CAACU,YAAY,EAAE;MACxBV,OAAO,CAACU,YAAY,CAACjJ,OAAO,CAAEkJ,QAAQ,IAAK;QACzC3I,IAAI,CAACX,IAAI,CAACuJ,mBAAM,CAACC,WAAW,CAACF,QAA+B,CAAC,CAACG,MAAM,CAAC;MACvE,CAAC,CAAC;IACJ;IACA,OAAO,MAAM;MACX9I,IAAI,CAACP,OAAO,CAAEsJ,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAC;EACH;EAEA,MAAa7O,oBAAoBA,CAACK,IAAyB,EAAE;IAC3D,IAAI,IAAI,CAAC5D,QAAQ,CAACsC,mBAAmB,EAAE;MACrC,MAAMwM,GAAG,GAAG,IAAI,CAACjF,eAAe,CAAC,CAAC;MAClC,MAAMwI,IAAI,GAAG,MAAM,IAAAC,sCAAgC,EACjDxD,GAAG,EACH,IAAI,CAAC9O,QAAQ,CAACsC,mBAAmB,EACjCsB,IACF,CAAC;MACD,IAAI,CAAC5D,QAAQ,CAACoD,0BAA0B,GAAGiP,IAAI;IACjD;EACF;EAEOjO,sCAAsCA,CAC3C9B,mBAA4C,EAC5CoB,OAA2B,EAC3B;IACA,IAAI,EAAE,uBAAuB,IAAIpB,mBAAmB,CAAC,EAAE;MACrD0D,OAAO,CAACC,KAAK,CACX,6EACF,CAAC;MACD;IACF;IACA,MAAM6I,GAAG,GAAG,IAAI,CAACjF,eAAe,CAAC,CAAC;IAClC,MAAM/C,UAAU,GAAG,IAAAyL,+BAAyB,EAACzD,GAAG,EAAEpL,OAAO,CAAC;IAC1D,OAAOpB,mBAAmB,CAACkQ,qBAAqB,CAAC1L,UAAU,CAAC;EAC9D;EAEO2L,SAASA,CAAA,EAAY;IAC1B,OAAO,CAAC,CAAC,IAAI,CAACzS,QAAQ,CAAC8C,aAAa;EACtC;AACF;AAAC4P,OAAA,CAAA9S,UAAA,GAAAA,UAAA;AAEM,eAAe+S,eAAeA,CAAC7S,OAAwB,EAAE;EAC9D;EACA,MAAMgG,QAAQ,GAAG,IAAIlG,UAAU,CAACE,OAAO,CAAC;EAExC,MAAM,IAAAuF,kCAAe,EAAC;IACpBS,QAAQ;IACRf,SAAS,EAAEjF,OAAO,CAACiF,SAAS;IAC5BF,UAAU,EAAE,KAAK;IACjBK,cAAc,EAAEpF,OAAO,CAACmF;EAC1B,CAAC,CAAC;EAEFa,QAAQ,CAAC+C,OAAO,CAAC,CAAC;AACpB","ignoreList":[]}